(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){e.exports=a(129)},109:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),l=a(0),c=a.n(l),o=a(12),i=a.n(o),s=(a(109),a(13)),u=a(34),m=a(30),p=Object(l.createContext)(null),d=a(6),g=a.n(d),f=(a(45),a(71)),h=a.n(f),E=(a(69),{signInFlow:"redirect",signInSuccessUrl:"/",signInOptions:[g.a.auth.GoogleAuthProvider.PROVIDER_ID]});function b(){return c.a.createElement("div",{className:"center",style:{textAlign:"center",paddingTop:"100px"}},c.a.createElement("img",{src:"/logo192.png",alt:"Logo"}),c.a.createElement("div",{className:"center",style:{textAlign:"center",padding:"30px",color:"#808080",fontSize:"20px"}},c.a.createElement("p",null,"This web app is proprietary of Skinzy software solutions and intended for clinical image acquisition for research and development task.")),c.a.createElement("div",{style:{display:"inline-block",height:"50%",width:"70%"}},c.a.createElement(h.a,{uiConfig:E,firebaseAuth:g.a.auth(),style:{}})))}var x=a(170),v=a(167),y=a(74),w=a.n(y),C=a(75),O=a.n(C),k=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),S=function(){var e=Object(u.g)(),t=Object(l.useContext)(p),a=t.imgSrc,n=t.setImgSrc,r=(t.hasCropped,t.setHasCropped),o=k();Object(l.useEffect)((function(){n(null),r(!1)}),[n,r]),Object(l.useEffect)((function(){a&&e.push("/crop")}),[a,e]);var i=function(e){n(e)},s=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;i(null),t.addEventListener("load",(function(){i(t.result)})),t.readAsDataURL(e.target.files[0])}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"center",style:{textAlign:"center",paddingTop:"100px"}},c.a.createElement("div",{className:"center",style:{textAlign:"center",padding:"30px",color:"#808080",fontSize:"20px"}},c.a.createElement("p",null,"This web app is proprietary of Skinzy software solutions and intended for clinical image acquisition for research and development task."),c.a.createElement("p",null,"Click on button below, crop affected part, choose disease or name a new disease and upload")),c.a.createElement("div",{style:{marginTop:"30px",marginBottom:"30px"}},c.a.createElement("input",{accept:"image/*",className:o.input,id:"outlined-button-camera",type:"file",onChange:s,capture:!0}),c.a.createElement("label",{htmlFor:"outlined-button-camera"},c.a.createElement(x.a,{variant:"contained",color:"primary",component:"span"},c.a.createElement(w.a,null)," \xa0 CAMERA"))),c.a.createElement("div",{style:{marginTop:"50px",marginBottom:"30px"}},c.a.createElement("input",{accept:"image/*",className:o.input,id:"outlined-button-file",type:"file",onChange:s}),c.a.createElement("label",{htmlFor:"outlined-button-file"},c.a.createElement(x.a,{variant:"contained",color:"primary",component:"span"},c.a.createElement(O.a,null)," \xa0 CHOOSE IMAGE")))))};function j(e){return null!=g.a.auth().currentUser?c.a.createElement(c.a.Fragment,null,e.children):c.a.createElement(c.a.Fragment,null)}function A(e){return null==g.a.auth().currentUser?c.a.createElement(c.a.Fragment,null,e.children):c.a.createElement(c.a.Fragment,null)}var I=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null,e.children),c.a.createElement(A,null,c.a.createElement(u.a,{to:"/"})))};function N(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null,c.a.createElement(S,null)),c.a.createElement(A,null,c.a.createElement(b,null)))}var z=a(174),L=a(175),R=a(90),T=a(176),U=a(78),B=a.n(U),F=a(76),W=a.n(F),D=(a(123),function(e){var t=Object(l.useContext)(p),a=t.imgSrc,n=(t.setImgSrc,Object(l.useState)(null)),r=Object(s.a)(n,2),o=r[0],i=r[1],u=Object(l.useState)({aspect:1,unit:"%",x:25,y:25,width:50}),m=Object(s.a)(u,2),d=m[0],g=m[1],f=Object(l.useCallback)((function(e){i(e)}),[]),h=function(t){if(o&&t.width&&t.height){var a=E(o,t);e.setResult(a)}},E=function(e,t){var a=document.createElement("canvas"),n=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e,t.x*n,t.y*r,t.width*n,t.height*r,0,0,t.width,t.height),a.toDataURL("image/jpeg")};return h(d),c.a.createElement(W.a,{className:e.className,src:a,onImageLoaded:f,crop:d,onChange:function(e){return g(e)},onComplete:h,style:{height:"100%",width:"100%"}})}),P=a(186),M=a(172),G=a(77),H=a.n(G),_=c.a.forwardRef((function(e,t){return c.a.createElement(M.a,Object.assign({direction:"up",ref:t},e))})),K=function(e){var t=e.open,a=e.handleClose;return c.a.createElement(P.a,{open:t,TransitionComponent:_,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},c.a.createElement("div",{style:{paddingTop:"50px",paddingBottom:"50px",paddingLeft:"20px",paddingRight:"20px",textAlign:"center",fontSize:"100px",fontColor:"black"},onClick:a},c.a.createElement(H.a,{color:"inherit",fontSize:"inherit"}),c.a.createElement("h5",{style:{margin:"0px",paddingTop:"4px",paddingLeft:"20px",fontSize:"20px",fontWeight:"500"}},"Pinch to Crop the Image to Highlight Affected Area")))},q=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),J=function(){var e=q(),t=Object(u.g)(),a=Object(l.useContext)(p),n=(a.imgSrc,a.setImgSrc),r=Object(l.useContext)(p),o=(r.hasCropped,r.setHasCropped),i=Object(l.useState)(),m=Object(s.a)(i,2),d=m[0],g=m[1],f=Object(l.useState)(!0),h=Object(s.a)(f,2),E=h[0],b=h[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(K,{open:E,handleClose:function(){b(!1)}}),c.a.createElement("div",{className:e.root,style:{backgroundColor:"black",height:"100%",overflow:"auto"}},c.a.createElement(z.a,{position:"fixed",style:{backgroundColor:"#303030",height:"10%"}},c.a.createElement(L.a,null,c.a.createElement(T.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){t.goBack()}},c.a.createElement(B.a,null)),c.a.createElement(R.a,{variant:"h6",className:e.title}),c.a.createElement(x.a,{color:"inherit",onClick:function(){d&&n(d),o(!0),t.push("/upload")}},"CROP"))),c.a.createElement("div",{style:{height:"80%",width:"95%",position:"fixed",top:"12%",left:"2.5%"}},c.a.createElement(D,{className:"react-crop-parent",result:d,setResult:g}))))},Z=a(79),Q=a(18),Y=a(183),V=a(184),$=a(177);function X(e){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(fetch(e));case 2:return t=n.sent,n.next=5,r.a.awrap(t.json());case 5:return a=(a=n.sent).map((function(e){return String(e).toUpperCase()})),a=(a=Object(Q.a)(new Set(a))).sort(),n.abrupt("return",a);case 10:case"end":return n.stop()}}))}var ee=function(e){var t=Object(l.useState)([]),a=Object(s.a)(t,2),n=a[0],o=a[1],i=0===n.length,u=e.uri;return Object(l.useEffect)((function(){var e=!0;return function(){var t;r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(X(u));case 2:t=a.sent,e&&o(t);case 4:case"end":return a.stop()}}))}(),function(){e=!1}}),[i,u]),c.a.createElement(V.a,{id:"disease-select",style:{width:300,display:"inline-block"},freeSolo:!0,getOptionSelected:function(e,t){return e===t},getOptionLabel:function(e){return e},options:n,loading:i,onInputChange:function(t,a){return e.onDiseaseChange(a)},renderInput:function(e){return c.a.createElement(Y.a,Object.assign({},e,{label:"Select Disease",fullWidth:!0,variant:"outlined",InputProps:Object(Z.a)({},e.InputProps,{endAdornment:c.a.createElement(c.a.Fragment,null,i?c.a.createElement($.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},te=Object(v.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},padding:"20px"}}})),ae=function(e){var t=te(),a=e.open;return c.a.createElement(P.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a},c.a.createElement("div",{className:t.root},c.a.createElement($.a,null),c.a.createElement("h5",{style:{margin:"0px",paddingTop:"4px",paddingLeft:"20px",fontSize:"20px",fontWeight:"500"}},"Uploading Image")))},ne=a(178),re=a(82),le=a.n(re),ce=function(e){var t=e.isOpen,a=e.successClose;return c.a.createElement(P.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t},c.a.createElement("div",{style:{paddingTop:"50px",paddingBottom:"50px",paddingLeft:"20px",paddingRight:"20px",textAlign:"center",fontSize:"100px"}},c.a.createElement(le.a,{color:"primary",fontSize:"inherit"}),c.a.createElement("h5",{style:{margin:"0px",paddingTop:"4px",paddingLeft:"20px",fontSize:"20px",fontWeight:"500"}},"Image Uploaded Successfully")),c.a.createElement(ne.a,null,c.a.createElement(x.a,{onClick:a,style:{fontSize:"15px"},color:"primary",autoFocus:!0},"OK")))},oe=a(83),ie=a.n(oe),se=function(){var e=Object(l.useContext)(p),t=(e.imgSrc,e.setImgSrc),a=(e.hasCropped,e.setHasCropped),n=Object(u.g)();return c.a.createElement(x.a,{onClick:function(){t(null),a(!1),n.push("/")},variant:"contained",color:"secondary",component:"span",style:{marginTop:"30px"}},c.a.createElement(ie.a,null)," \xa0 CANCEL")},ue=a(179),me=a(84),pe=a.n(me);a(130);function de(e){if("string"!==typeof e)return null;var t=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return t&&t.length?t[1]:null}function ge(){var e=g.a.auth().currentUser;if(null==e)return"user";var t=e.email;return null==t||""===t?"user":t}var fe=function(){var e=Object(u.g)(),t=Object(l.useContext)(p),a=t.imgSrc,n=(t.setImgSrc,t.hasCropped,t.setHasCropped),o=Object(l.useState)(null),i=Object(s.a)(o,2),m=i[0],d=i[1],f=Object(l.useState)(!1),h=Object(s.a)(f,2),E=h[0],b=h[1],v=Object(l.useState)(!1),y=Object(s.a)(v,2),w=y[0],C=y[1],O=function(){E&&b(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{open:E}),c.a.createElement(ce,{isOpen:w,successClose:function(){C(!1),n(!1),e.push("/")}}),c.a.createElement(ue.a,{style:{marginTop:"10%",textAlign:"center",height:"80%"}},c.a.createElement("img",{src:a,alt:"Crop",style:{width:"50%",height:"50%"}}),c.a.createElement("div",{className:"center",style:{color:"#808080",fontSize:"20px"}},c.a.createElement("p",null,"Write or select disease name.")),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(ee,{uri:"/diseases.json",onDiseaseChange:d})),c.a.createElement(x.a,{onClick:function(){var e,t,n,l,c,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=a&&null!=m&&""!==m.trim()){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,E||b(!0),e=String(m).trim().toUpperCase(),t="images/"+e+"/",n=ge(),l=Date.now()+"_"+n,c=de(a),i.next=11,r.a.awrap(g.a.storage().ref(t).child(l).putString(a,"data_url",{contentType:c}));case 11:if(o=i.sent,O(),"success"!==o.state){i.next=17;break}C(!0),i.next=18;break;case 17:throw new Error("Failed "+o.state);case 18:i.next=24;break;case 20:i.prev=20,i.t0=i.catch(2),O(),console.error(i.t0);case 24:case"end":return i.stop()}}),null,null,[[2,20]])},variant:"contained",color:"primary",component:"span",style:{marginTop:"5%"}},c.a.createElement(pe.a,null)," \xa0 UPLOAD IMAGE"),c.a.createElement("div",null,c.a.createElement(se,null))))},he=a(181),Ee=a(182),be=a(180),xe=a(85),ve=a.n(xe),ye=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),we=c.a.forwardRef((function(e,t){return c.a.createElement(M.a,Object.assign({direction:"up",ref:t},e))})),Ce=function(){var e=Object(u.g)(),t=ye(),a=Object(l.useState)(!1),n=Object(s.a)(a,2),r=n[0],o=n[1],i=function(){o(!1)};return c.a.createElement("div",{className:t.root},c.a.createElement(P.a,{open:r,TransitionComponent:we,keepMounted:!0,onClose:i,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},c.a.createElement(be.a,{id:"alert-dialog-slide-title"},"Logout"),c.a.createElement(he.a,null,c.a.createElement(Ee.a,{id:"alert-dialog-slide-description"},"Are you sure you want to Log Out?")),c.a.createElement(ne.a,null,c.a.createElement(x.a,{onClick:i,color:"primary"},"No"),c.a.createElement(x.a,{onClick:function(){g.a.auth().signOut().then((function(){e.push("/refresh")}))},color:"primary"},"Yes"))),c.a.createElement(z.a,{position:"static"},c.a.createElement(L.a,null,c.a.createElement(T.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},c.a.createElement("img",{src:"/logo192.png",style:{width:"30px",height:"30px"},alt:"Logo"})),c.a.createElement(R.a,{variant:"h6",className:t.title},"Skinzy"),c.a.createElement(j,null,c.a.createElement(x.a,{color:"inherit",onClick:function(){o(!0)},startIcon:c.a.createElement(ve.a,null)},"LOGOUT")))))},Oe=a(86),ke=a.n(Oe),Se=a(87),je=a.n(Se),Ae=a(88),Ie=a.n(Ae),Ne=a(89),ze=a.n(Ne),Le=a(22),Re=(a(128),function(){var e=Object(l.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-copyright",onClick:function(){n(!a)}},"\xa9 Copyright 2020 Skinzy.in Skinzy\xae Software Solutions Pvt. Ltd. All Rights Reserved",c.a.createElement("div",{style:{marginTop:"20px"}},a?c.a.createElement(x.a,{style:{backgroundColor:"lightblue",color:"black"}},"HIDE"):c.a.createElement(x.a,{style:{backgroundColor:"black",color:"lightblue"}},"CONTACT US"))),c.a.createElement("div",{className:a?"contact-list":"contact-list-hidden"},c.a.createElement(Le.Row,{className:"contact-list-item"},c.a.createElement(Le.Col,{xs:1,sm:1},c.a.createElement(ke.a,null)),c.a.createElement(Le.Col,{xs:11,sm:11,style:{paddingLeft:"15px"}},c.a.createElement("a",{style:{color:"lightblue",textDecoration:"none"},href:"http://www.skinzy.in/"},"Website"))),c.a.createElement(Le.Row,{className:"contact-list-item"},c.a.createElement(Le.Col,{xs:1,sm:1},c.a.createElement(je.a,null)),c.a.createElement(Le.Col,{xs:11,sm:11,style:{paddingLeft:"15px"}},"Sardar Patel Technology Business Incubator (SP-TBI),Munshi Nagar, Andheri (W) Mumbai,Maharashtra 400053")),c.a.createElement(Le.Row,{className:"contact-list-item"},c.a.createElement(Le.Col,{xs:1,sm:1,md:1,lg:1},c.a.createElement(Ie.a,null)),c.a.createElement(Le.Col,{xs:11,sm:11,md:11,lg:11,style:{paddingLeft:"15px"}},"Main: +91 8657424574")),c.a.createElement(Le.Row,{className:"contact-list-item"},c.a.createElement(Le.Col,{xs:1,sm:1,md:1,lg:1},c.a.createElement(ze.a,null)),c.a.createElement(Le.Col,{xs:11,sm:11,md:11,lg:11,style:{paddingLeft:"15px"}},"drkalbande@skinzy.in"))))}),Te=function(){var e,t=Object(l.useState)(null),a=Object(s.a)(t,2),n=a[0],r=a[1],o=Object(l.useState)(!1),i=Object(s.a)(o,2),d=i[0],g=i[1];return e=n&&d?c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0},c.a.createElement(Ce,null),c.a.createElement(N,null),c.a.createElement(Re,null)),c.a.createElement(u.b,{path:"/upload",exact:!0},c.a.createElement(I,null,c.a.createElement(Ce,null),c.a.createElement(fe,null),c.a.createElement(Re,null))),c.a.createElement(u.a,{to:"/"})):n?c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0},c.a.createElement(Ce,null),c.a.createElement(N,null),c.a.createElement(Re,null)),c.a.createElement(u.b,{path:"/crop",exact:!0},c.a.createElement(I,null,c.a.createElement(J,null))),c.a.createElement(u.b,{path:"/upload",exact:!0},c.a.createElement(I,null,c.a.createElement(Ce,null),c.a.createElement(fe,null),c.a.createElement(Re,null))),c.a.createElement(u.a,{to:"/"})):c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/",exact:!0},c.a.createElement(Ce,null),c.a.createElement(N,null),c.a.createElement(Re,null)),c.a.createElement(u.a,{to:"/"})),c.a.createElement(m.a,null,c.a.createElement(p.Provider,{value:{imgSrc:n,setImgSrc:r,hasCropped:d,setHasCropped:g}},e))},Ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Fe(t,e)}))}}function Fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var We={apiKey:"AIzaSyBOeReZ_pUp_Dq0tfc_jxJmGIOdkxkOz5Q",authDomain:"skinzyimageupload.firebaseapp.com",databaseURL:"https://skinzyimageupload.firebaseio.com",projectId:"skinzyimageupload",storageBucket:"skinzyimageupload.appspot.com",messagingSenderId:"1031661596743",appId:"1:1031661596743:web:ca7b799a150c172dde4162",measurementId:"G-LQL5RCYG9M",EMailAllowed:""};(function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(e){return new Promise((function(t,a){var n=e.onAuthStateChanged((function(e){n(),t(e)}),a)}))},g.a.initializeApp(We),t.next=4,r.a.awrap(e(g.a.auth()));case 4:if(null==g.a.auth().currentUser||""===We.EMailAllowed||g.a.auth().currentUser.email===We.EMailAllowed){t.next=7;break}return t.next=7,r.a.awrap(g.a.auth().signOut());case 7:case"end":return t.stop()}}))})().then((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i.a.render(c.a.createElement(Te,null),document.getElementById("root")),Be();case 2:case"end":return e.stop()}}))}))}},[[103,1,2]]]);
//# sourceMappingURL=main.91f1c79a.chunk.js.map