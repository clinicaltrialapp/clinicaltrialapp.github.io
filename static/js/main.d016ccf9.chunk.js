(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,a){e.exports=a(132)},112:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),l=a(33),c=a(0),o=a.n(c),i=a(12),s=a.n(i),u=(a(112),a(14)),m=a(35),p=a(31),d=Object(c.createContext)(null),g=a(6),f=a.n(g),h=(a(46),a(73)),E=a.n(h),b=(a(71),{signInFlow:"redirect",signInSuccessUrl:"/",signInOptions:[f.a.auth.GoogleAuthProvider.PROVIDER_ID]});function x(){return o.a.createElement("div",{className:"center",style:{textAlign:"center",paddingTop:"100px"}},o.a.createElement("img",{src:"/logo192.png",alt:"Logo"}),o.a.createElement("div",{className:"center",style:{textAlign:"center",padding:"30px",color:"#808080",fontSize:"20px"}},o.a.createElement("p",null,"This web app is proprietary of Skinzy software solutions and intended for clinical image acquisition for research and development task.")),o.a.createElement("div",{style:{display:"inline-block",height:"50%",width:"70%"}},o.a.createElement(E.a,{uiConfig:b,firebaseAuth:f.a.auth(),style:{}})))}var v=a(173),y=a(170),w=a(76),C=a.n(w),O=a(77),k=a.n(O),S=Object(y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),j=function(){var e=Object(m.g)(),t=Object(c.useContext)(d),a=t.imgSrc,n=t.setImgSrc,r=(t.hasCropped,t.setHasCropped),l=S();Object(c.useEffect)((function(){n(null),r(!1)}),[n,r]),Object(c.useEffect)((function(){a&&e.push("/crop")}),[a,e]);var i=function(e){n(e)},s=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;i(null),t.addEventListener("load",(function(){i(t.result)})),t.readAsDataURL(e.target.files[0])}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"center",style:{textAlign:"center",paddingTop:"100px"}},o.a.createElement("div",{className:"center",style:{textAlign:"center",padding:"30px",color:"#808080",fontSize:"20px"}},o.a.createElement("p",null,"This web app is proprietary of Skinzy software solutions and intended for clinical image acquisition for research and development task."),o.a.createElement("p",null,"Click on button below, crop affected part, choose disease or name a new disease and upload")),o.a.createElement("div",{style:{marginTop:"30px",marginBottom:"30px"}},o.a.createElement("input",{accept:"image/*",className:l.input,id:"outlined-button-camera",type:"file",onChange:s,capture:!0}),o.a.createElement("label",{htmlFor:"outlined-button-camera"},o.a.createElement(v.a,{variant:"contained",color:"primary",component:"span"},o.a.createElement(C.a,null)," \xa0 CAMERA"))),o.a.createElement("div",{style:{marginTop:"50px",marginBottom:"30px"}},o.a.createElement("input",{accept:"image/*",className:l.input,id:"outlined-button-file",type:"file",onChange:s}),o.a.createElement("label",{htmlFor:"outlined-button-file"},o.a.createElement(v.a,{variant:"contained",color:"primary",component:"span"},o.a.createElement(k.a,null)," \xa0 CHOOSE IMAGE")))))};function A(e){return null!=f.a.auth().currentUser?o.a.createElement(o.a.Fragment,null,e.children):o.a.createElement(o.a.Fragment,null)}function I(e){return null==f.a.auth().currentUser?o.a.createElement(o.a.Fragment,null,e.children):o.a.createElement(o.a.Fragment,null)}var N=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null,e.children),o.a.createElement(I,null,o.a.createElement(m.a,{to:"/"})))};function z(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null,o.a.createElement(j,null)),o.a.createElement(I,null,o.a.createElement(x,null)))}var L=a(177),R=a(178),T=a(93),U=a(179),B=a(80),F=a.n(B),W=a(78),D=a.n(W),P=(a(126),function(e){var t=Object(c.useContext)(d),a=t.imgSrc,n=(t.setImgSrc,Object(c.useState)(null)),r=Object(u.a)(n,2),l=r[0],i=r[1],s=Object(c.useState)({aspect:1,unit:"%",x:25,y:25,width:50}),m=Object(u.a)(s,2),p=m[0],g=m[1],f=Object(c.useCallback)((function(e){i(e)}),[]),h=function(t){if(l&&t.width&&t.height){var a=E(l,t);e.setResult(a)}},E=function(e,t){var a=document.createElement("canvas"),n=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e,t.x*n,t.y*r,t.width*n,t.height*r,0,0,t.width,t.height),a.toDataURL("image/jpeg")};return h(p),o.a.createElement(D.a,{className:e.className,src:a,onImageLoaded:f,crop:p,onChange:function(e){return g(e)},onComplete:h,style:{height:"100%",width:"100%"}})}),G=a(189),M=a(175),H=a(79),_=a.n(H),K=o.a.forwardRef((function(e,t){return o.a.createElement(M.a,Object.assign({direction:"up",ref:t},e))})),q=function(e){var t=e.open,a=e.handleClose;return o.a.createElement(G.a,{open:t,TransitionComponent:K,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement("div",{style:{paddingTop:"50px",paddingBottom:"50px",paddingLeft:"20px",paddingRight:"20px",textAlign:"center",fontSize:"100px",fontColor:"black"},onClick:a},o.a.createElement(_.a,{color:"inherit",fontSize:"inherit"}),o.a.createElement("h5",{style:{margin:"0px",paddingTop:"4px",paddingLeft:"20px",fontSize:"20px",fontWeight:"500"}},"Pinch to Crop the Image to Highlight Affected Area")))},J=Object(y.a)((function(e){return{root:{flexGrow:1,backgroundColor:"black"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Z=function(){var e=J(),t=Object(m.g)(),a=Object(c.useContext)(d),n=(a.imgSrc,a.setImgSrc),r=Object(c.useContext)(d),l=(r.hasCropped,r.setHasCropped),i=Object(c.useState)(),s=Object(u.a)(i,2),p=s[0],g=s[1],f=Object(c.useState)(!0),h=Object(u.a)(f,2),E=h[0],b=h[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(q,{open:E,handleClose:function(){b(!1)}}),o.a.createElement("div",{className:e.root,style:{backgroundColor:"black",height:"100%",overflow:"auto"}},o.a.createElement(L.a,{position:"fixed",style:{backgroundColor:"#303030",height:"10%"}},o.a.createElement(R.a,null,o.a.createElement(U.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){t.goBack()}},o.a.createElement(F.a,null)),o.a.createElement(T.a,{variant:"h6",className:e.title}),o.a.createElement(v.a,{color:"inherit",onClick:function(){p&&n(p),l(!0),t.push("/upload")}},"CROP"))),o.a.createElement("div",{style:{height:"80%",width:"95%",position:"fixed",top:"12%",left:"2.5%"}},o.a.createElement(P,{className:"react-crop-parent",result:p,setResult:g}))))},Q=a(91),Y=a(92),V=a(186),$=a(187),X=a(180);function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=(n=e.sent).map((function(e){return String(e).toUpperCase()})),n=(n=Object(Q.a)(new Set(n))).sort(),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(e){var t=Object(c.useState)([]),a=Object(u.a)(t,2),n=a[0],i=a[1],s=0===n.length,m=e.uri;return Object(c.useEffect)((function(){var e=!0;return Object(l.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(m);case 2:a=t.sent,e&&i(a);case 4:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[s,m]),o.a.createElement($.a,{id:"disease-select",style:{width:300,display:"inline-block"},freeSolo:!0,getOptionSelected:function(e,t){return e===t},getOptionLabel:function(e){return e},options:n,loading:s,onInputChange:function(t,a){return e.onDiseaseChange(a)},renderInput:function(e){return o.a.createElement(V.a,Object.assign({},e,{label:"Select Disease",fullWidth:!0,variant:"outlined",InputProps:Object(Y.a)({},e.InputProps,{endAdornment:o.a.createElement(o.a.Fragment,null,s?o.a.createElement(X.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},ne=Object(y.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},padding:"20px"}}})),re=function(e){var t=ne(),a=e.open;return o.a.createElement(G.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a},o.a.createElement("div",{className:t.root},o.a.createElement(X.a,null),o.a.createElement("h5",{style:{margin:"0px",paddingTop:"4px",paddingLeft:"20px",fontSize:"20px",fontWeight:"500"}},"Uploading Image")))},le=a(181),ce=a(83),oe=a.n(ce),ie=function(e){var t=e.isOpen,a=e.successClose;return o.a.createElement(G.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t},o.a.createElement("div",{style:{paddingTop:"50px",paddingBottom:"50px",paddingLeft:"20px",paddingRight:"20px",textAlign:"center",fontSize:"100px"}},o.a.createElement(oe.a,{color:"primary",fontSize:"inherit"}),o.a.createElement("h5",{style:{margin:"0px",paddingTop:"4px",paddingLeft:"20px",fontSize:"20px",fontWeight:"500"}},"Image Uploaded Successfully")),o.a.createElement(le.a,null,o.a.createElement(v.a,{onClick:a,style:{fontSize:"15px"},color:"primary",autoFocus:!0},"OK")))},se=a(84),ue=a.n(se),me=function(){var e=Object(c.useContext)(d),t=(e.imgSrc,e.setImgSrc),a=(e.hasCropped,e.setHasCropped),n=Object(m.g)();return o.a.createElement(v.a,{onClick:function(){t(null),a(!1),n.push("/")},variant:"contained",color:"secondary",component:"span",style:{marginTop:"30px"}},o.a.createElement(ue.a,null)," \xa0 CANCEL")},pe=a(182),de=a(85),ge=a.n(de);a(133);function fe(e){if("string"!==typeof e)return null;var t=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return t&&t.length?t[1]:null}function he(){var e=f.a.auth().currentUser;if(null==e)return"user";var t=e.email;return null==t||""===t?"user":t}var Ee=function(){var e=Object(m.g)(),t=Object(c.useContext)(d),a=t.imgSrc,n=(t.setImgSrc,t.hasCropped,t.setHasCropped),i=Object(c.useState)(null),s=Object(u.a)(i,2),p=s[0],g=s[1],h=Object(c.useState)(!1),E=Object(u.a)(h,2),b=E[0],x=E[1],y=Object(c.useState)(!1),w=Object(u.a)(y,2),C=w[0],O=w[1],k=function(){b&&x(!1)},S=function(){b||x(!0)},j=function(){O(!0)};function A(){return(A=Object(l.a)(r.a.mark((function e(){var t,n,l,c,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a&&null!=p&&""!==p.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,S(),t=String(p).trim().toUpperCase(),n="images/"+t+"/",l=he(),c=Date.now()+"_"+l,o=fe(a),e.next=11,f.a.storage().ref(n).child(c).putString(a,"data_url",{contentType:o});case 11:if(i=e.sent,k(),"success"!==i.state){e.next=17;break}j(),e.next=18;break;case 17:throw new Error("Failed "+i.state);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),k(),console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[2,20]])})))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(re,{open:b}),o.a.createElement(ie,{isOpen:C,successClose:function(){O(!1),n(!1),e.push("/")}}),o.a.createElement(pe.a,{style:{marginTop:"10%",textAlign:"center",height:"80%"}},o.a.createElement("img",{src:a,alt:"Crop",style:{width:"50%",height:"50%"}}),o.a.createElement("div",{className:"center",style:{color:"#808080",fontSize:"20px"}},o.a.createElement("p",null,"Write or select disease name.")),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(ae,{uri:"/diseases.json",onDiseaseChange:g})),o.a.createElement(v.a,{onClick:function(){return A.apply(this,arguments)},variant:"contained",color:"primary",component:"span",style:{marginTop:"5%"}},o.a.createElement(ge.a,null)," \xa0 UPLOAD IMAGE"),o.a.createElement("div",null,o.a.createElement(me,null))))},be=a(184),xe=a(185),ve=a(183),ye=a(86),we=a.n(ye),Ce=Object(y.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Oe=o.a.forwardRef((function(e,t){return o.a.createElement(M.a,Object.assign({direction:"up",ref:t},e))})),ke=function(){var e=Object(m.g)(),t=Ce(),a=Object(c.useState)(!1),n=Object(u.a)(a,2),r=n[0],l=n[1],i=function(){l(!1)};return o.a.createElement("div",{className:t.root},o.a.createElement(G.a,{open:r,TransitionComponent:Oe,keepMounted:!0,onClose:i,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(ve.a,{id:"alert-dialog-slide-title"},"Logout"),o.a.createElement(be.a,null,o.a.createElement(xe.a,{id:"alert-dialog-slide-description"},"Are you sure you want to Log Out?")),o.a.createElement(le.a,null,o.a.createElement(v.a,{onClick:i,color:"primary"},"No"),o.a.createElement(v.a,{onClick:function(){f.a.auth().signOut().then((function(){e.push("/refresh")}))},color:"primary"},"Yes"))),o.a.createElement(L.a,{position:"static"},o.a.createElement(R.a,null,o.a.createElement(U.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},o.a.createElement("img",{src:"/logo192.png",style:{width:"30px",height:"30px"},alt:"Logo"})),o.a.createElement(T.a,{variant:"h6",className:t.title},"Skinzy"),o.a.createElement(A,null,o.a.createElement(v.a,{color:"inherit",onClick:function(){l(!0)},startIcon:o.a.createElement(we.a,null)},"LOGOUT")))))},Se=a(87),je=a.n(Se),Ae=a(88),Ie=a.n(Ae),Ne=a(89),ze=a.n(Ne),Le=a(90),Re=a.n(Le),Te=a(21),Ue=(a(131),function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];return o.a.createElement("div",{className:"footer"},o.a.createElement("div",{className:"footer-copyright",onClick:function(){n(!a)}},"\xa9 Copyright 2020 Skinzy.in Skinzy\xae Software Solutions Pvt. Ltd. All Rights Reserved",o.a.createElement("div",{style:{marginTop:"20px"}},a?o.a.createElement(v.a,{style:{backgroundColor:"lightblue",color:"black"}},"HIDE"):o.a.createElement(v.a,{style:{backgroundColor:"black",color:"lightblue"}},"CONTACT US"))),o.a.createElement("div",{className:a?"contact-list":"contact-list-hidden"},o.a.createElement(Te.Row,{className:"contact-list-item"},o.a.createElement(Te.Col,{xs:1,sm:1},o.a.createElement(je.a,null)),o.a.createElement(Te.Col,{xs:11,sm:11,style:{paddingLeft:"15px"}},o.a.createElement("a",{style:{color:"lightblue",textDecoration:"none"},href:"http://www.skinzy.in/"},"Website"))),o.a.createElement(Te.Row,{className:"contact-list-item"},o.a.createElement(Te.Col,{xs:1,sm:1},o.a.createElement(Ie.a,null)),o.a.createElement(Te.Col,{xs:11,sm:11,style:{paddingLeft:"15px"}},"Sardar Patel Technology Business Incubator (SP-TBI),Munshi Nagar, Andheri (W) Mumbai,Maharashtra 400053")),o.a.createElement(Te.Row,{className:"contact-list-item"},o.a.createElement(Te.Col,{xs:1,sm:1,md:1,lg:1},o.a.createElement(ze.a,null)),o.a.createElement(Te.Col,{xs:11,sm:11,md:11,lg:11,style:{paddingLeft:"15px"}},"Main: +91 8657424574")),o.a.createElement(Te.Row,{className:"contact-list-item"},o.a.createElement(Te.Col,{xs:1,sm:1,md:1,lg:1},o.a.createElement(Re.a,null)),o.a.createElement(Te.Col,{xs:11,sm:11,md:11,lg:11,style:{paddingLeft:"15px"}},"drkalbande@skinzy.in"))))}),Be=function(){var e,t=Object(c.useState)(null),a=Object(u.a)(t,2),n=a[0],r=a[1],l=Object(c.useState)(!1),i=Object(u.a)(l,2),s=i[0],g=i[1];return e=n&&s?o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/",exact:!0},o.a.createElement(ke,null),o.a.createElement(z,null),o.a.createElement(Ue,null)),o.a.createElement(m.b,{path:"/upload",exact:!0},o.a.createElement(N,null,o.a.createElement(ke,null),o.a.createElement(Ee,null),o.a.createElement(Ue,null))),o.a.createElement(m.a,{to:"/"})):n?o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/",exact:!0},o.a.createElement(ke,null),o.a.createElement(z,null),o.a.createElement(Ue,null)),o.a.createElement(m.b,{path:"/crop",exact:!0},o.a.createElement(N,null,o.a.createElement(Z,null))),o.a.createElement(m.b,{path:"/upload",exact:!0},o.a.createElement(N,null,o.a.createElement(ke,null),o.a.createElement(Ee,null),o.a.createElement(Ue,null))),o.a.createElement(m.a,{to:"/"})):o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/",exact:!0},o.a.createElement(ke,null),o.a.createElement(z,null),o.a.createElement(Ue,null)),o.a.createElement(m.a,{to:"/"})),o.a.createElement(p.a,null,o.a.createElement(d.Provider,{value:{imgSrc:n,setImgSrc:r,hasCropped:s,setHasCropped:g}},e))},Fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Fe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):De(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):De(t,e)}))}}function De(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Pe={apiKey:"AIzaSyBOeReZ_pUp_Dq0tfc_jxJmGIOdkxkOz5Q",authDomain:"skinzyimageupload.firebaseapp.com",databaseURL:"https://skinzyimageupload.firebaseio.com",projectId:"skinzyimageupload",storageBucket:"skinzyimageupload.appspot.com",messagingSenderId:"1031661596743",appId:"1:1031661596743:web:ca7b799a150c172dde4162",measurementId:"G-LQL5RCYG9M"};function Ge(){return(Ge=Object(l.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return new Promise((function(t,a){var n=e.onAuthStateChanged((function(e){n(),t(e)}),a)}))},We(),f.a.initializeApp(Pe),e.next=5,t(f.a.auth());case 5:if(null!=(a=f.a.auth().currentUser)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,a.getIdTokenResult();case 10:if(n=e.sent,Boolean(n.claims.admin)){e.next=15;break}return e.next=15,f.a.auth().signOut();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return Ge.apply(this,arguments)})().then(Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.render(o.a.createElement(Be,null),document.getElementById("root"));case 1:case"end":return e.stop()}}),e)}))))}},[[106,1,2]]]);
//# sourceMappingURL=main.d016ccf9.chunk.js.map